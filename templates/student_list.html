{% extends 'admin_index.html' %}

{% block content %}
    <script>
        $('.student').addClass('active')
        $('.teacher').removeClass('active')
        $('.pclass').removeClass('active')
        $('.course').removeClass('active')
        $('.grade').removeClass('active')
    </script>

    <div class="panel panel-primary">
        <div class="panel-heading">学生管理</div>
        <div class="panel-body">
            <a href="/student_add/" class="btn btn-primary pull-right">新增</a>
            <table class="table  table-bordered">
                <thead>
                <tr>
                    <th>id</th>
                    <th>学号</th>
                    <th>姓名</th>
                    <th>性别</th>
                    <th>班级</th>
                    <th>民族</th>
                    <th>出生日期</th>
                    <th>生源地</th>
                    <th>编辑</th>
                    <th>删除</th>
                </tr>
                </thead>
                <tbody>
                {% for student in current_page %}
{#                {% for student in student_list %}#}
                    <tr>
                        <td>{{ student.id }}</td>
                        <td>{{ student.student_number }}</td>
                        <td>{{ student.name }}</td>
                        <td>{{ student.sex }}</td>
                        <td>{{ student.pclass.name }}</td>
                        <td>{{ student.nation }}</td>
                        <td>{{ student.birthday|date:"Y-m-d" }}</td>
                        <td>{{ student.birthplace }}</td>
                        <td><a href="/student_update/?id={{ student.id }}">编辑</a></td>
                        <td><a href="/student_delete/?id={{ student.id }}">删除</a></td>
                    </tr>
                {% endfor %}

                </tbody>

            </table>


        </div>

        <div class="panel-footer">
            <nav aria-label="Page navigation">
            <ul class="pagination">
                {% if current_page.has_previous %}
                    <li>
                        {#                    <a href="/student_list/?page={{ current_page_num|add:-1 }}" aria-label="Previous">#}
                        <a href="/student_list/?page={{ current_page.previous_page_number }}" aria-label="Previous">
                            <span aria-hidden="true">上一页</span>
                        </a>
                    </li>
                {% else %}
                    <li class="disabled">
                        <a href="" aria-label="Previous">
                            <span aria-hidden="true">上一页</span>
                        </a>
                    </li>
                {% endif %}

                {% for foo in page_range %}
                    {% if current_page_num == foo %}
                        {# 当前页码等于循环到的页码数,变色#}
                        <li class="active"><a href="/student_list/?page={{ foo }}">{{ foo }}</a></li>
                    {% else %}
                        <li><a href="?page={{ foo }}">{{ foo }}</a></li>
                    {% endif %}

                {% endfor %}



                {% if current_page.has_next %}
                    <li>
                        {#                    <a href="/student_list/?page={{ current_page_num|add:1 }}" aria-label="Next">#}
                        <a href="/student_list/?page={{ current_page.next_page_number }}" aria-label="Next">
                            <span aria-hidden="true">下一页</span>
                        </a>
                    </li>
                {% else %}
                    <li class="disabled">
                        <a href="" aria-label="Next">
                            <span aria-hidden="true">下一页</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
        </div>
    </div>


{% endblock %}